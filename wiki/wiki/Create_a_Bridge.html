<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8"/>
<title>Create a Bridge - EQdkp Plus</title>
<script>document.documentElement.className="client-js";RLCONF={"wgCanonicalNamespace":"","wgCanonicalSpecialPageName":!1,"wgNamespaceNumber":0,"wgPageName":"Create_a_Bridge","wgTitle":"Create a Bridge","wgCurRevisionId":1334,"wgRevisionId":1334,"wgArticleId":74,"wgIsArticle":!0,"wgIsRedirect":!1,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":["Pages with syntax highlighting errors","Extending"],"wgBreakFrames":!1,"wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgMonthNamesShort":["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"wgRelevantPageName":"Create_a_Bridge","wgRelevantArticleId":74,"wgRequestId":"YESmomxaG08X6qNxFEGpSgAAAAM","wgCSPNonce":!1,"wgIsProbablyEditable":!1,
"wgRelevantPageIsProbablyEditable":!1,"wgRestrictionEdit":[],"wgRestrictionMove":[],"wgULSAcceptLanguageList":[],"wgULSCurrentAutonym":"English"};RLSTATE={"site.styles":"ready","noscript":"ready","user.styles":"ready","user":"ready","user.options":"ready","user.tokens":"loading","ext.pygments":"ready","mediawiki.legacy.shared":"ready","mediawiki.legacy.commonPrint":"ready","mediawiki.toc.styles":"ready","ext.uls.pt":"ready","mediawiki.skinning.interface":"ready","skins.vector.styles":"ready"};RLPAGEMODULES=["site","mediawiki.page.startup","mediawiki.page.ready","mediawiki.toc","mediawiki.searchSuggest","ext.FontAwesome","ext.uls.interface","skins.vector.js"];</script>
<script>(RLQ=window.RLQ||[]).push(function(){mw.loader.implement("user.tokens@tffin",function($,jQuery,require,module){/*@nomin*/mw.user.tokens.set({"editToken":"+\\","patrolToken":"+\\","watchToken":"+\\","csrfToken":"+\\"});
});});</script>
<link rel="stylesheet" href="../w/load.php%3Flang=en&amp;modules=ext.pygments|ext.uls.pt|mediawiki.legacy.commonPrint,shared|mediawiki.skinning.interface|mediawiki.toc.styles|skins.vector.styles&amp;only=styles&amp;skin=vector.css"/>
<script async="" src="../w/load.php%3Flang=en&amp;modules=startup&amp;only=scripts&amp;raw=1&amp;skin=vector"></script>
<meta name="ResourceLoaderDynamicStyles" content=""/>
<link rel="stylesheet" href="../w/load.php%3Flang=en&amp;modules=site.styles&amp;only=styles&amp;skin=vector.css"/>
<meta name="generator" content="MediaWiki 1.34.4"/>
<link rel="shortcut icon" href="../favicon.ico"/>
<link rel="search" type="application/opensearchdescription+xml" href="https://wiki.eqdkp-plus.eu/w/opensearch_desc.php" title="EQdkp Plus (en)"/>
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.eqdkp-plus.eu/w/api.php?action=rsd"/>
<link rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/"/>
<link rel="alternate" type="application/atom+xml" title="EQdkp Plus Atom feed" href="https://wiki.eqdkp-plus.eu/w/index.php?title=Special:RecentChanges&amp;feed=atom"/>
<!--[if lt IE 9]><script src="/w/resources/lib/html5shiv/html5shiv.js"></script><![endif]-->
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Create_a_Bridge rootpage-Create_a_Bridge skin-vector action-view">
<div id="mw-page-base" class="noprint"></div>
<div id="mw-head-base" class="noprint"></div>
<div id="content" class="mw-body" role="main">
	<a id="top"></a>
	
	<div class="mw-indicators mw-body-content">
</div>

	<h1 id="firstHeading" class="firstHeading" lang="en">Create a Bridge</h1>
	
	<div id="bodyContent" class="mw-body-content">
		<div id="siteSub" class="noprint">From EQdkp Plus</div>
		<div id="contentSub"></div>
		
		
		
		<div id="jump-to-nav"></div>
		<a class="mw-jump-link" href="Create_a_Bridge.html#mw-head">Jump to navigation</a>
		<a class="mw-jump-link" href="Create_a_Bridge.html#p-search">Jump to search</a>
		<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><div class="mw-parser-output"><p><br />
</p>
<div id="toc" class="toc"><input type="checkbox" role="button" id="toctogglecheckbox" class="toctogglecheckbox" style="display:none" /><div class="toctitle" lang="en" dir="ltr"><h2>Contents</h2><span class="toctogglespan"><label class="toctogglelabel" for="toctogglecheckbox"></label></span></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="Create_a_Bridge.html#What_is_a_Bridge.3F"><span class="tocnumber">1</span> <span class="toctext">What is a Bridge?</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="Create_a_Bridge.html#Creating_a_new_Bridge"><span class="tocnumber">2</span> <span class="toctext">Creating a new Bridge</span></a>
<ul>
<li class="toclevel-2 tocsection-3"><a href="Create_a_Bridge.html#The_frame"><span class="tocnumber">2.1</span> <span class="toctext">The frame</span></a></li>
<li class="toclevel-2 tocsection-4"><a href="Create_a_Bridge.html#Name_of_the_Bridge"><span class="tocnumber">2.2</span> <span class="toctext">Name of the Bridge</span></a></li>
<li class="toclevel-2 tocsection-5"><a href="Create_a_Bridge.html#Data-Array"><span class="tocnumber">2.3</span> <span class="toctext">Data-Array</span></a>
<ul>
<li class="toclevel-3 tocsection-6"><a href="Create_a_Bridge.html#User-Table"><span class="tocnumber">2.3.1</span> <span class="toctext">User-Table</span></a></li>
<li class="toclevel-3 tocsection-7"><a href="Create_a_Bridge.html#Group-Table"><span class="tocnumber">2.3.2</span> <span class="toctext">Group-Table</span></a></li>
<li class="toclevel-3 tocsection-8"><a href="Create_a_Bridge.html#User-Group-Table"><span class="tocnumber">2.3.3</span> <span class="toctext">User-Group-Table</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-9"><a href="Create_a_Bridge.html#Functions-Array"><span class="tocnumber">2.4</span> <span class="toctext">Functions-Array</span></a></li>
<li class="toclevel-2 tocsection-10"><a href="Create_a_Bridge.html#Settings-Array"><span class="tocnumber">2.5</span> <span class="toctext">Settings-Array</span></a></li>
<li class="toclevel-2 tocsection-11"><a href="Create_a_Bridge.html#Sync-fields"><span class="tocnumber">2.6</span> <span class="toctext">Sync-fields</span></a></li>
<li class="toclevel-2 tocsection-12"><a href="Create_a_Bridge.html#Needed_functions"><span class="tocnumber">2.7</span> <span class="toctext">Needed functions</span></a>
<ul>
<li class="toclevel-3 tocsection-13"><a href="Create_a_Bridge.html#check_password"><span class="tocnumber">2.7.1</span> <span class="toctext">check_password</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-14"><a href="Create_a_Bridge.html#Optinal_functions"><span class="tocnumber">2.8</span> <span class="toctext">Optinal functions</span></a>
<ul>
<li class="toclevel-3 tocsection-15"><a href="Create_a_Bridge.html#convert_username"><span class="tocnumber">2.8.1</span> <span class="toctext">convert_username</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-16"><a href="Create_a_Bridge.html#Finished_Bridge"><span class="tocnumber">2.9</span> <span class="toctext">Finished Bridge</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-17"><a href="Create_a_Bridge.html#Params.2FReturns_for_function_defined_at_Function-Array"><span class="tocnumber">3</span> <span class="toctext">Params/Returns for function defined at Function-Array</span></a>
<ul>
<li class="toclevel-2 tocsection-18"><a href="Create_a_Bridge.html#login_.3D.3E_callbefore"><span class="tocnumber">3.1</span> <span class="toctext">login =&gt; callbefore</span></a></li>
<li class="toclevel-2 tocsection-19"><a href="Create_a_Bridge.html#login_.3D.3E_function"><span class="tocnumber">3.2</span> <span class="toctext">login =&gt; function</span></a></li>
<li class="toclevel-2 tocsection-20"><a href="Create_a_Bridge.html#login_.3D.3E_callafter"><span class="tocnumber">3.3</span> <span class="toctext">login =&gt; callafter</span></a></li>
<li class="toclevel-2 tocsection-21"><a href="Create_a_Bridge.html#logout"><span class="tocnumber">3.4</span> <span class="toctext">logout</span></a></li>
<li class="toclevel-2 tocsection-22"><a href="Create_a_Bridge.html#autologin"><span class="tocnumber">3.5</span> <span class="toctext">autologin</span></a></li>
<li class="toclevel-2 tocsection-23"><a href="Create_a_Bridge.html#sync"><span class="tocnumber">3.6</span> <span class="toctext">sync</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-24"><a href="Create_a_Bridge.html#Bridge-Handler-Functions"><span class="tocnumber">4</span> <span class="toctext">Bridge-Handler-Functions</span></a>
<ul>
<li class="toclevel-2 tocsection-25"><a href="Create_a_Bridge.html#get_user_groups"><span class="tocnumber">4.1</span> <span class="toctext">get_user_groups</span></a></li>
<li class="toclevel-2 tocsection-26"><a href="Create_a_Bridge.html#get_userdata"><span class="tocnumber">4.2</span> <span class="toctext">get_userdata</span></a></li>
<li class="toclevel-2 tocsection-27"><a href="Create_a_Bridge.html#check_user_group"><span class="tocnumber">4.3</span> <span class="toctext">check_user_group</span></a></li>
</ul>
</li>
</ul>
</div>

<h1><span id="What_is_a_Bridge?"></span><span class="mw-headline" id="What_is_a_Bridge.3F">What is a Bridge?</span></h1>
<p>A bridge uses the login credentials of other CMS/Boards to log user into EQdkp Plus. Of course you can enhance your bridge to support Single Sign-On, Synchronisation of Profilfields and much more.
</p>
<h1><span class="mw-headline" id="Creating_a_new_Bridge">Creating a new Bridge</span></h1>
<p>In this tutorial, we will create a bridge for phpbb3, a very popular Board.
The bridge needs an ID used for the filename and the classname. The Bridge-ID must be lowercase and mustn't contain any blank spaces. In our example, we will use phpbb3 as our Bridge-ID, so please replace xxx or phpbb3 with your own Bridge-ID.
</p>
<h2><span class="mw-headline" id="The_frame">The frame</span></h2>
<p>First, I have to create a new file, called "<i>xxx.bridge.class.php</i>". xxx stands here for phpbb3. This file must be in the folder "<i>eqdkp_root/core/bridges</i>".
Now, I create the frame of my class.
</p>
<div class="mw-highlight mw-content-ltr" dir="ltr"><pre>&lt;?php

if ( !defined('EQDKP_INC') ){
	header('HTTP/1.0 404 Not Found');exit;
}

class phpbb3_bridge extends bridge_generic {
	
	public function __construct(){
		parent::__construct();
	}	

}
?&gt;</pre></div>
<p>Please make sure that you name the class "xxx_bridge", in this case "phpbb3_bridge".
</p>
<h2><span class="mw-headline" id="Name_of_the_Bridge">Name of the Bridge</span></h2>
<p>To better identify the Bridge, you can give the Bridge an name who will be used instead of the Bridge-ID.
</p>
<div class="mw-highlight mw-content-ltr" dir="ltr"><pre>$this-&gt;name = "phpBB3";</pre></div>
<h2><span class="mw-headline" id="Data-Array">Data-Array</span></h2>
<p>The Data-Array contains all needed information about the User-, Group- and Usergroup-Table. The Bridge-Handler will use this information to Build the Querys needed to get the data.
Needed indexes: user, groups and user_group.
Empty Data-Array:
</p>
<div class="mw-highlight mw-content-ltr" dir="ltr"><pre>$this-&gt;data = array(
	'user'	=&gt; array(
		'table'	=&gt; '',
		'id'	=&gt; '',
		'name'	=&gt; '',
		'where'	=&gt; '',
		'password' =&gt; '',
		'email'	=&gt; '',
		'salt'	=&gt; '',
		'QUERY'	=&gt; '',
	),
	'groups' =&gt; array( 
		'table'	=&gt; '',
		'id'	=&gt; '',
		'name'	=&gt; '',
		'QUERY'	=&gt; '',
	),
	'user_group' =&gt; array(
		'table'	=&gt; '',
		'group'	=&gt; '',
		'user'	=&gt; '',
		'QUERY'	=&gt; '',
		'FUNCTION' =&gt; '',
	),
);</pre></div>
<h3><span class="mw-headline" id="User-Table">User-Table</span></h3>
<p>The User-Table contains all informationen about the User from the CMS/Board.
</p>
<table class="wikitable">

<tbody><tr class="hintergrundfarbe5">
<th>Index</th>
<th>Description
</th></tr>
<tr>
<td><b>table</b></td>
<td>The Name of the user-table, but without the prefix. If the table is names phpbb_users, insert users.
</td></tr>
<tr>
<td><b>id</b></td>
<td>Name of the column containing the user-id
</td></tr>
<tr>
<td><b>name</b></td>
<td>Name of the column containing the username
</td></tr>
<tr>
<td><b>where</b></td>
<td>Name of the column the given Username should be compared with
</td></tr>
<tr>
<td><b>password</b></td>
<td>Name of the column containing the password
</td></tr>
<tr>
<td><b>email</b></td>
<td>Name of the column containing the email
</td></tr>
<tr>
<td><b>salt</b> (optional)</td>
<td>Name of the column containing the Salt used for hashing the password
</td></tr>
<tr>
<td><b>QUERY</b> (optional)</td>
<td>The given query will be executed instead of the default one from the Bridge-Handler. The Username will replaced if you use _USERNAME_ String. Example-Query: "SELECT user_id as id, username as name, user_password as password, user_email as email FROM ___users WHERE username = '_USERNAME_'"
</td></tr></tbody></table>
<p><b>___ will be replaced automatically through the right table-prefix choosen by the Administrator from the EQdkp Plus.</b>
<a href="./File:Dev_bridge_usertable.png.html" class="image"><img alt="Dev bridge usertable.png" src="../w/images/b/b2/Dev_bridge_usertable.png" decoding="async" width="1168" height="383" /></a>
</p>
<h3><span class="mw-headline" id="Group-Table">Group-Table</span></h3>
<p>The Group-Table contains all informationen of the usergroups, for example the ID and the Name of the group
</p>
<table class="wikitable">

<tbody><tr class="hintergrundfarbe5">
<th>Index</th>
<th>Description
</th></tr>
<tr>
<td><b>table</b></td>
<td>The Name of the Group-Table, but without the prefix. If the table is names phpbb_groups, insert groups.
</td></tr>
<tr>
<td><b>id</b></td>
<td>Name of the column containing the group-id
</td></tr>
<tr>
<td><b>name</b></td>
<td>Name of the column containing the group-name
</td></tr>
<tr>
<td><b>QUERY</b> (optional)</td>
<td>The given query will be executed instead of the default one from the Bridge-Handler. Example-Query: "SELECT group_id as id, group_name as name FROM ___groups"
</td></tr></tbody></table>
<p><a href="./File:Dev_bridge_grouptable.png.html" class="image"><img alt="Dev bridge grouptable.png" src="../w/images/e/e9/Dev_bridge_grouptable.png" decoding="async" width="762" height="167" /></a>
</p>
<h3><span class="mw-headline" id="User-Group-Table">User-Group-Table</span></h3>
<p>The User-Group-Table contains the connection between user and the groups.
</p>
<table class="wikitable">

<tbody><tr class="hintergrundfarbe5">
<th>Index</th>
<th>Description
</th></tr>
<tr>
<td><b>table</b></td>
<td>The Name of the Group-Table, but without the prefix. If the table is names phpbb_groups, insert groups.
</td></tr>
<tr>
<td><b>group</b></td>
<td>Name of the column containing the group-id
</td></tr>
<tr>
<td><b>user</b></td>
<td>Name of the column containing the user-id
</td></tr>
<tr>
<td><b>QUERY</b> (optional)</td>
<td>The given query will be executed instead of the default one from the Bridge-Handler. You can access the UserID by using the _USERID_ String. Example-Query: "SELECT group_id as group, user_id as user FROM ___user_group WHERE user_id = '_USERID_'".
</td></tr>
<tr>
<td><b>FUNCTION</b> (optional)</td>
<td>Add here the name of the function that should be called to get the Usergroups.
<table class="wikitable">

<tbody><tr class="hintergrundfarbe5">
<td class="hintergrundfarbe5" colspan="3">Params
</td></tr>
<tr>
<td>$intUserID</td>
<td>int</td>
<td>User-ID from CMS/Forum
</td></tr>
<tr>
<td>$arrGroups</td>
<td>array</td>
<td>The array contains the Group-ID selected by the EQdkp-Admin in his Bridge-Settings
</td></tr>
<tr>
<td class="hintergrundfarbe5" colspan="3">Returns
</td></tr>
<tr>
<td></td>
<td>boolean</td>
<td>if user is in one of the selected groups
</td></tr></tbody></table>
</td></tr></tbody></table>
<p><a href="./File:Dev_bridge_usergrouptable.png.html" class="image"><img alt="Dev bridge usergrouptable.png" src="../w/images/4/45/Dev_bridge_usergrouptable.png" decoding="async" width="674" height="187" /></a>
</p>
<h2><span class="mw-headline" id="Functions-Array">Functions-Array</span></h2>
<p>In the Functions-Array you can define functions called by the Bridge-Handler. You must define this functions in your bridge-class, but the name can be choosen freely.
Empty Functions-Array:
</p>
<div class="mw-highlight mw-content-ltr" dir="ltr"><pre>$this-&gt;functions = array(
	'login'	=&gt; array(
		'callbefore'	=&gt; '',
		'function' 	=&gt; '',
		'callafter'	=&gt; '',
	),
	'logout' 	=&gt; '',
	'autologin' 	=&gt; '',	
	'sync'		=&gt; '',
);</pre></div>
<table class="wikitable">

<tbody><tr class="hintergrundfarbe5">
<th>Index</th>
<th>Description
</th></tr>
<tr>
<td><a href="Create_a_Bridge.html#login_.3D.3E_callbefore"> login =&gt; callbefore</a></td>
<td>Function will be called before Login
</td></tr>
<tr>
<td><a href="Create_a_Bridge.html#login_.3D.3E_function"> login =&gt; function</a></td>
<td>This function will be executed instead of the Bridge-Handler login-function
</td></tr>
<tr>
<td><a href="Create_a_Bridge.html#login_.3D.3E_callafter"> login =&gt; callafter</a></td>
<td>Function will be called, if login was successfull
</td></tr>
<tr>
<td><a href="Create_a_Bridge.html#logout"> logout</a></td>
<td>Will be called when user logges out
</td></tr>
<tr>
<td><a href="Create_a_Bridge.html#autologin"> autologin</a></td>
<td>Used for autologin a user
</td></tr>
<tr>
<td><a href="Create_a_Bridge.html#sync"> sync</a></td>
<td>Used for syncing Userdata
</td></tr></tbody></table>
<p>For the phpbb3-Bridge, we need an "<b>login =&gt; callafter</b>" - function to check if the user is active and for initiating the Single Sign-On. The "<b>logout</b>"-function will be used to destroy the Single Sign-On.
Also, we will use a "<b>sync</b>"-function to sync profiledata from the Board with EQdkp Plus.
</p>
<div class="mw-highlight mw-content-ltr" dir="ltr"><pre>$this-&gt;functions = array(
	'login'	=&gt; array(
		'callbefore'	=&gt; '',
		'function' 	=&gt; '',
		'callafter'	=&gt; 'phpbb3_callafter',
	),
	'logout'    =&gt; 'phpbb3_logout',
	'autologin' =&gt; '',	
	'sync'	    =&gt; 'phpbb3_sync',
);</pre></div>
<p>As you can see, we prefixed our functions with "phpbb3_".
</p>
<h2><span class="mw-headline" id="Settings-Array">Settings-Array</span></h2>
<p>The Settings-Array contains bridge-specific settings displayed at the administration-page of the bridge.
</p>
<div class="mw-highlight mw-content-ltr" dir="ltr"><pre>$this-&gt;settings = array(
	'cmsbridge_disable_sso'	=&gt; array(
		'fieldtype'	=&gt; 'checkbox',
		'name'		=&gt; 'Disable Single Sign-On',
		'help'		=&gt; 'User will not be logged in automatically at phpbb3 when he logges into EQdkp Plus',
	),
	'cmsbridge_disable_sync' =&gt; array(
		'fieldtype'	=&gt; 'checkbox',
		'name'		=&gt; 'Disable Profildata-Sync',
		'help'		=&gt; 'Disables Sync of Profildata between phpbb3 and EQdkp Plus',
	),
);</pre></div>
<table class="wikitable">

<tbody><tr class="hintergrundfarbe5">
<th>Index</th>
<th>Description
</th></tr>
<tr>
<td><b>Index</b></td>
<td>The Index will be used for the ID of the Setting, you can access it through $core-&gt;config('your_index')
</td></tr>
<tr>
<td><b>fieldtype</b></td>
<td>Fieldtype, e.g. checkbox, text, ...
</td></tr>
<tr>
<td><b>name</b></td>
<td>Description of the Setting
</td></tr>
<tr>
<td><b>help</b></td>
<td>Help-Message
</td></tr></tbody></table>
<h2><span class="mw-headline" id="Sync-fields">Sync-fields</span></h2>
<p>If your Bridge syncs profilefields, the EQdkp User should change this fields in his CMS/Forum and not anymore at the EQdkp Plus. Therefore, you can set the fields that should be disabled at the usersettings.
</p>
<div class="mw-highlight mw-content-ltr" dir="ltr"><pre>$this-&gt;sync_fields = array(
			'icq',
			'town',
			'interests',
			'birthday',
			'msn',
			'user_email',
			'username',
		);</pre></div>
<h2><span class="mw-headline" id="Needed_functions">Needed functions</span></h2>
<p>There is one function you have to define in your bridge-class, called "check_password"
</p>
<h3><span class="mw-headline" id="check_password">check_password</span></h3>
<p>This function is used for comparing if the given Password is correct
</p>
<table class="wikitable">

<tbody><tr class="hintergrundfarbe5">
<td class="hintergrundfarbe5" colspan="3">Params
</td></tr>
<tr>
<td>$password</td>
<td>string</td>
<td>The Password the user entered on login
</td></tr>
<tr>
<td>$hash</td>
<td>string</td>
<td>The Password-Hash saved at the CMS/Forum-Database
</td></tr>
<tr>
<td>$strSalt</td>
<td>string</td>
<td>The Salt used for hashing the Password, may be empty
</td></tr>
<tr>
<td>$boolUseHash</td>
<td>boolean</td>
<td>If $password is a hash
</td></tr>
<tr>
<td class="hintergrundfarbe5" colspan="3">Returns
</td></tr>
<tr>
<td></td>
<td>boolean</td>
<td>if password is correct
</td></tr></tbody></table>
<h2><span class="mw-headline" id="Optinal_functions">Optinal functions</span></h2>
<h3><span class="mw-headline" id="convert_username">convert_username</span></h3>
<p>If this function is defined, it will be used to convert the username
</p>
<table class="wikitable">

<tbody><tr class="hintergrundfarbe5">
<td class="hintergrundfarbe5" colspan="3">Params
</td></tr>
<tr>
<td>$strUsername</td>
<td>string</td>
<td>The Username entered on login
</td></tr>
<tr>
<td class="hintergrundfarbe5" colspan="3">Returns
</td></tr>
<tr>
<td></td>
<td>string</td>
<td>converted username
</td></tr></tbody></table>
<h2><span class="mw-headline" id="Finished_Bridge">Finished Bridge</span></h2>
<p>Here's the finished Bridge (we have removed some code of functions owning to phpbb3 to reduce the length.)
</p>
<div class="mw-highlight mw-content-ltr" dir="ltr"><pre>&lt;?php

if ( !defined('EQDKP_INC') ){
	header('HTTP/1.0 404 Not Found');exit;
}

class phpbb3_bridge extends bridge_generic {
	
	public function __construct(){
		parent::__construct();
		
		$this-&gt;name = "phpBB3";
		
		$this-&gt;data = array(
			'user'	=&gt; array(
				'table'	=&gt; 'users',
				'id'	=&gt; 'user_id',
				'name'	=&gt; 'username',
				'where'	=&gt; 'username',
				'password' =&gt; 'user_password',
				'email'	=&gt; 'user_email',
				'salt'	=&gt; '',
				'QUERY'	=&gt; '',
			),
			'groups' =&gt; array(
				'table'	=&gt; 'groups', //without prefix
				'id'	=&gt; 'group_id',
				'name'	=&gt; 'group_name',
				'QUERY'	=&gt; '',
			),
			'user_group' =&gt; array(
				'table'	=&gt; 'user_group',
				'group'	=&gt; 'group_id',
				'user'	=&gt; 'user_id',
				'QUERY'	=&gt; '',
			),
			
		);
		
		$this-&gt;functions = array(
			'login'	=&gt; array(
				'callbefore'	=&gt; '',
				'function' 	=&gt; '',
				'callafter'	=&gt; 'phpbb3_callafter',
			),
			'logout' 	=&gt; 'phpbb3_logout',
			'autologin'     =&gt; '',	
			'sync'		=&gt; 'phpbb3_sync',
		);
		
		$this-&gt;settings = array(
			'cmsbridge_disable_sso'	=&gt; array(
				'fieldtype'	=&gt; 'checkbox',
				'name'		=&gt; 'cmsbridge_disable_sso',
			),
			'cmsbridge_disable_sync' =&gt; array(
				'fieldtype'	=&gt; 'checkbox',
				'name'		=&gt; 'cmsbridge_disable_sync',
			),
		);
		
		$this-&gt;sync_fields = array(
			'icq',
			'town',
			'interests',
			'birthday',
			'msn',
			'user_email',
			'username',
		);
	}
	
	//Needed function
	public function check_password($password, $hash, $strSalt = '', $boolUseHash){
		
		$itoa64 = './0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz';
		if (strlen($hash) == 34)
		{
			return ($this-&gt;_hash_crypt_private($password, $hash, $itoa64) === $hash) ? true : false;
		}
		return (md5($password) === $hash) ? true : false;
	}
	
	
	public function phpbb3_callafter($strUsername, $strPassword, $arrUserdata, $boolLoginResult, $boolUseHash){
		global $core;
		//Is user active?
		if ($boolLoginResult){
			if ($arrUserdata['user_inactive_reason'] != '0') {
				return false;
			}
			//Single Sign On
			if ($core-&gt;config['cmsbridge_disable_sso'] != '1'){
				$this-&gt;phpbb3_sso($arrUserdata);
			}
		}
		return true;
	}
	
	public function phpbb3_sso($arrUserdata){
		global $env;
		$user_id = $arrUserdata['id'];
		$strSessionID = md5(rand().rand());
		$this-&gt;db-&gt;query("DELETE FROM ".$this-&gt;prefix."sessions WHERE session_user_id='".$this-&gt;db-&gt;escape($user_id)."'");
		
		$query = $this-&gt;db-&gt;query("SELECT * FROM ".$this-&gt;prefix."config");
		$result = $this-&gt;db-&gt;fetch_rowset($query);
		if (is_array($result)){
			foreach ($result as $row){
				$arrConfig[$row['config_name']] = $row['config_value'];
			}
		}
		
		//PW is true, logg the user into our Forum
		$arrSet = array(
			'session_user_id'			=&gt; (int) $user_id,
			'session_start'				=&gt; (int) time(),
			'session_last_visit'		=&gt; (int) time(),
			'session_time'				=&gt; (int) time(),
			'session_browser'			=&gt; (string) trim(substr($env-&gt;useragent, 0, 149)),
			'session_forwarded_for'		=&gt; '',
			'session_ip'				=&gt; $env-&gt;ip,
			'session_autologin'			=&gt; 0,
			'session_admin'				=&gt; 0,
			'session_viewonline'		=&gt; 1,
			'session_id'				=&gt; $strSessionID,
			'session_page'				=&gt; '',
			'session_forum_id'			=&gt; 0,
		);
		
		$this-&gt;db-&gt;query("INSERT INTO ".$this-&gt;prefix."sessions :params", $arrSet);
				
		// Set cookie
		$expire = time() + 31536000;
		//SID Cookie
		setcookie($arrConfig['cookie_name'].'_sid', $strSessionID, $expire, $arrConfig['cookie_path'], $arrConfig['cookie_domain'], $arrConfig['cookie_secure']);
		//User-Cookie
		setcookie($arrConfig['cookie_name'].'_u', $user_id, $expire, $arrConfig['cookie_path'], $arrConfig['cookie_domain'], $arrConfig['cookie_secure']);
		setcookie($arrConfig['cookie_name'].'_k', '', $expire, $arrConfig['cookie_path'], $arrConfig['cookie_domain'], $arrConfig['cookie_secure']);
		
		return true;
	}
	
	public function phpbb3_logout(){
		global $user;
		$arrUserdata = $this-&gt;get_userdata($user-&gt;data['username']);
		if (isset($arrUserdata['id'])){
			$this-&gt;db-&gt;query("DELETE FROM ".$this-&gt;prefix."sessions WHERE session_user_id='".$this-&gt;db-&gt;escape($arrUserdata['id'])."'");
		}
		setcookie($arrConfig['cookie_name'].'_sid', '', $expire, $arrConfig['cookie_path'], $arrConfig['cookie_domain'], $arrConfig['cookie_secure']);
		//User-Cookie
		setcookie($arrConfig['cookie_name'].'_u', '', $expire, $arrConfig['cookie_path'], $arrConfig['cookie_domain'], $arrConfig['cookie_secure']);
		setcookie($arrConfig['cookie_name'].'_k', '', $expire, $arrConfig['cookie_path'], $arrConfig['cookie_domain'], $arrConfig['cookie_secure']);
	}
	
	public function phpbb3_sync($arrUserdata){
		global $core;
		if ($core-&gt;config['cmsbridge_disable_sync'] == '1'){
			return false;
		}
		$sync_array = array(
			'icq' 		=&gt; $arrUserdata['user_icq'],
			'town'		=&gt; $arrUserdata['user_from'],
			'interests'	=&gt; $arrUserdata['user_interests'],
			'birthday'	=&gt; $this-&gt;_handle_birthday($arrUserdata['user_birthday']),
			'msn'		=&gt; $arrUserdata['user_msnm'],
		);
		return $sync_array;
	}
	
	private function _handle_birthday($date){
		list($d, $m, $y) = explode('-', $date);
		if ($y != ''){
			return str_replace('-','.', $date);
		}
		return false;
	}
	
	
	//...
	//removed some function from phpbb3
	//...
}
?&gt;</pre></div>
<h1><span id="Params/Returns_for_function_defined_at_Function-Array"></span><span class="mw-headline" id="Params.2FReturns_for_function_defined_at_Function-Array">Params/Returns for function defined at Function-Array</span></h1>
<h3><span id="login_=&gt;_callbefore"></span><span class="mw-headline" id="login_.3D.3E_callbefore">login =&gt; callbefore</span></h3>
<table class="wikitable">

<tbody><tr class="hintergrundfarbe5">
<td class="hintergrundfarbe5" colspan="3">Params
</td></tr>
<tr>
<td>$strUsername</td>
<td>string</td>
<td>The Username entered on login
</td></tr>
<tr>
<td>$strPassword</td>
<td>string</td>
<td>The Password entered on login
</td></tr>
<tr>
<td>$boolAutoLogin</td>
<td>boolean</td>
<td>If user wants an Autologin
</td></tr>
<tr>
<td>$boolUseHash</td>
<td>boolean</td>
<td>If password is a hash
</td></tr></tbody></table>
<h3><span id="login_=&gt;_function"></span><span class="mw-headline" id="login_.3D.3E_function">login =&gt; function</span></h3>
<table class="wikitable">

<tbody><tr class="hintergrundfarbe5">
<td class="hintergrundfarbe5" colspan="3">Params
</td></tr>
<tr>
<td>$strUsername</td>
<td>string</td>
<td>The Username entered on login
</td></tr>
<tr>
<td>$strPassword</td>
<td>string</td>
<td>The Password entered on login
</td></tr>
<tr>
<td>$boolAutoLogin</td>
<td>boolean</td>
<td>If user wants an Autologin
</td></tr>
<tr>
<td>$boolUseHash</td>
<td>boolean</td>
<td>If Password is a hash
</td></tr>
<tr>
<td class="hintergrundfarbe5" colspan="3">Returns
</td></tr>
<tr>
<td></td>
<td>array</td>
<td><div class="mw-highlight mw-content-ltr" dir="ltr"><pre>array (
	'status' =&gt; 1, //Loginresult, 1 = login successful
	'user_id'	=&gt; ...
	....
	.... //The whole userdata, like id, name, email, ...
	....
)</pre></div>
</td></tr></tbody></table>
<h3><span id="login_=&gt;_callafter"></span><span class="mw-headline" id="login_.3D.3E_callafter">login =&gt; callafter</span></h3>
<table class="wikitable">

<tbody><tr class="hintergrundfarbe5">
<td class="hintergrundfarbe5" colspan="3">Params
</td></tr>
<tr>
<td>$strUsername</td>
<td>string</td>
<td>The Username entered on login
</td></tr>
<tr>
<td>$strPassword</td>
<td>string</td>
<td>The Password entered on login
</td></tr>
<tr>
<td>$boolAutoLogin</td>
<td>boolean</td>
<td>If user wants an Autologin
</td></tr>
<tr>
<td>$arrUserdata</td>
<td>array</td>
<td>Array containing the Userdata (from CMS/Board)
</td></tr>
<tr>
<td>$boolLoginResult</td>
<td>boolean</td>
<td>If Login from login =&gt; function or Bridge-Handler-Login was successful
</td></tr>
<tr>
<td>$boolUseHash</td>
<td>boolean</td>
<td>If Password is a hash
</td></tr>
<tr>
<td class="hintergrundfarbe5" colspan="3">Returns
</td></tr>
<tr>
<td></td>
<td>boolean</td>
<td>login successful?
</td></tr></tbody></table>
<h3><span class="mw-headline" id="logout">logout</span></h3>
<p>- no params/returns
</p>
<h3><span class="mw-headline" id="autologin">autologin</span></h3>
<table class="wikitable">

<tbody><tr class="hintergrundfarbe5">
<td class="hintergrundfarbe5" colspan="3">Params
</td></tr>
<tr>
<td>$arrCookieData</td>
<td>array</td>
<td>Cookie-Data, contains Session-ID and Password-Hash for Autologin
</td></tr>
<tr>
<td class="hintergrundfarbe5" colspan="3">Returns
</td></tr>
<tr>
<td></td>
<td>boolean</td>
<td>autologin successful?
</td></tr></tbody></table>
<h3><span class="mw-headline" id="sync">sync</span></h3>
<table class="wikitable">


<tbody><tr>
<td class="hintergrundfarbe5" colspan="3">Params
</td></tr>
<tr>
<td>$arrUserdata</td>
<td>array</td>
<td>Array containing the Userdata (from CMS/Board)
</td></tr>
<tr>
<td class="hintergrundfarbe5" colspan="3">Returns
</td></tr>
<tr>
<td></td>
<td>array</td>
<td>The index is always the Name of the EQdkp Column at the usertable e.g. <div class="mw-highlight mw-content-ltr" dir="ltr"><pre>$sync_array = array(
	'icq' 			=&gt; $arrUserdata['user_icq'],
	'town'			=&gt; $arrUserdata['user_from'],
	'interests'		=&gt; $arrUserdata['user_interests'],
	'birthday'		=&gt; $this-&gt;_handle_birthday($arrUserdata['user_birthday']),
	'msn'			=&gt; $arrUserdata['user_msnm'],
);</pre></div>
</td></tr></tbody></table>
<h1><span class="mw-headline" id="Bridge-Handler-Functions">Bridge-Handler-Functions</span></h1>
<h2><span class="mw-headline" id="get_user_groups">get_user_groups</span></h2>
<p>Return all Usergroups of the Forum/CMS
</p>
<table class="wikitable">


<tbody><tr>
<td class="hintergrundfarbe5" colspan="3">Returns
</td></tr>
<tr>
<td></td>
<td>array</td>
<td>Key: Group-ID, Value: Group-Name
</td></tr></tbody></table>
<h2><span class="mw-headline" id="get_userdata">get_userdata</span></h2>
<p>Returns Forum/CMS-Userdata of given User
</p>
<table class="wikitable">


<tbody><tr>
<td class="hintergrundfarbe5" colspan="3">Params
</td></tr>
<tr>
<td>$name</td>
<td>string</td>
<td>Username
</td></tr>
<tr>
<td class="hintergrundfarbe5" colspan="3">Returns
</td></tr>
<tr>
<td></td>
<td>array</td>
<td>Array containing the Userdata from the CMS/Forum
</td></tr></tbody></table>
<h2><span class="mw-headline" id="check_user_group">check_user_group</span></h2>
<p>Checks if the CMS/Forum-User is in the given Usergroup
</p>
<table class="wikitable">


<tbody><tr>
<td class="hintergrundfarbe5" colspan="3">Params
</td></tr>
<tr>
<td>$intUserID</td>
<td>int</td>
<td>User-ID from CMS/Forum
</td></tr>
<tr>
<td class="hintergrundfarbe5" colspan="3">Returns
</td></tr>
<tr>
<td></td>
<td>boolean</td>
<td>User Member of given Group?
</td></tr></tbody></table>
<!-- 
NewPP limit report
Cached time: 20210307101042
Cache expiry: 86400
Dynamic content: false
Complications: []
CPU time usage: 0.081 seconds
Real time usage: 0.197 seconds
Preprocessor visited node count: 140/1000000
Preprocessor generated node count: 0/1000000
Post‐expand include size: 0/2097152 bytes
Template argument size: 0/2097152 bytes
Highest expansion depth: 2/40
Expensive parser function count: 0/100
Unstrip recursion depth: 0/20
Unstrip post‐expand size: 8315/5000000 bytes
-->
<!--
Transclusion expansion time report (%,ms,calls,template)
100.00%    0.000      1 -total
-->

<!-- Saved in parser cache with key eqdkp2_wiki:pcache:idhash:74-0!canonical and timestamp 20210307101042 and revision id 1334
 -->
</div></div>
		
		<div class="printfooter">Retrieved from "<a dir="ltr" href="https://wiki.eqdkp-plus.eu/w/index.php?title=Create_a_Bridge&amp;oldid=1334">https://wiki.eqdkp-plus.eu/w/index.php?title=Create_a_Bridge&amp;oldid=1334</a>"</div>
		
		<div id="catlinks" class="catlinks" data-mw="interface"><div id="mw-normal-catlinks" class="mw-normal-catlinks"><a href="./Special:Categories.html" title="Special:Categories">Categories</a>: <ul><li><a href="https://wiki.eqdkp-plus.eu/w/index.php?title=Category:Pages_with_syntax_highlighting_errors&amp;action=edit&amp;redlink=1" class="new" title="Category:Pages with syntax highlighting errors (page does not exist)">Pages with syntax highlighting errors</a></li><li><a href="./Category:Extending.html" title="Category:Extending">Extending</a></li></ul></div></div>
		<div class="visualClear"></div>
		
	</div>
</div>


		<div id="mw-navigation">
			<h2>Navigation menu</h2>
			<div id="mw-head">
									<div id="p-personal" role="navigation" aria-labelledby="p-personal-label">
						<h3 id="p-personal-label">Personal tools</h3>
						<ul>
							<li id="pt-uls" class="active"><a href="Create_a_Bridge.html#" class="uls-trigger">English</a></li><li id="pt-login"><a href="https://wiki.eqdkp-plus.eu/w/index.php?title=Special:UserLogin&amp;returnto=Create+a+Bridge" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o">Log in</a></li>						</ul>
					</div>
									<div id="left-navigation">
										<div id="p-namespaces" role="navigation" class="vectorTabs" aria-labelledby="p-namespaces-label">
						<h3 id="p-namespaces-label">Namespaces</h3>
						<ul>
							<li id="ca-nstab-main" class="selected"><span><a href="Create_a_Bridge.html" title="View the content page [c]" accesskey="c">Page</a></span></li><li id="ca-talk" class="new"><span><a href="https://wiki.eqdkp-plus.eu/w/index.php?title=Talk:Create_a_Bridge&amp;action=edit&amp;redlink=1" rel="discussion" title="Discussion about the content page (page does not exist) [t]" accesskey="t">Discussion</a></span></li>						</ul>
					</div>
										<div id="p-variants" role="navigation" class="vectorMenu emptyPortlet" aria-labelledby="p-variants-label">
												<input type="checkbox" class="vectorMenuCheckbox" aria-labelledby="p-variants-label" />
						<h3 id="p-variants-label">
							<span>Variants</span>
						</h3>
						<ul class="menu">
													</ul>
					</div>
									</div>
				<div id="right-navigation">
										<div id="p-views" role="navigation" class="vectorTabs" aria-labelledby="p-views-label">
						<h3 id="p-views-label">Views</h3>
						<ul>
							<li id="ca-view" class="collapsible selected"><span><a href="Create_a_Bridge.html">Read</a></span></li><li id="ca-viewsource" class="collapsible"><span><a href="https://wiki.eqdkp-plus.eu/w/index.php?title=Create_a_Bridge&amp;action=edit" title="This page is protected.&#10;You can view its source [e]" accesskey="e">View source</a></span></li><li id="ca-history" class="collapsible"><span><a href="https://wiki.eqdkp-plus.eu/w/index.php?title=Create_a_Bridge&amp;action=history" title="Past revisions of this page [h]" accesskey="h">View history</a></span></li>						</ul>
					</div>
										<div id="p-cactions" role="navigation" class="vectorMenu emptyPortlet" aria-labelledby="p-cactions-label">
						<input type="checkbox" class="vectorMenuCheckbox" aria-labelledby="p-cactions-label" />
						<h3 id="p-cactions-label"><span>More</span></h3>
						<ul class="menu">
													</ul>
					</div>
										<div id="p-search" role="search">
						<h3>
							<label for="searchInput">Search</label>
						</h3>
						<form action="https://wiki.eqdkp-plus.eu/w/index.php" id="searchform">
							<div id="simpleSearch">
								<input type="search" name="search" placeholder="Search EQdkp Plus" title="Search EQdkp Plus [f]" accesskey="f" id="searchInput"/><input type="hidden" value="Special:Search" name="title"/><input type="submit" name="fulltext" value="Search" title="Search the pages for this text" id="mw-searchButton" class="searchButton mw-fallbackSearchButton"/><input type="submit" name="go" value="Go" title="Go to a page with this exact name if it exists" id="searchButton" class="searchButton"/>							</div>
						</form>
					</div>
									</div>
			</div>
			<div id="mw-panel">
				<div id="p-logo" role="banner"><a class="mw-wiki-logo" href="Main_Page.html" title="Visit the main page"></a></div>
						<div class="portal" role="navigation" id="p-EQdkp_Plus" aria-labelledby="p-EQdkp_Plus-label">
			<h3 id="p-EQdkp_Plus-label">EQdkp Plus</h3>
			<div class="body">
								<ul>
					<li id="n-Home"><a href="https://eqdkp-plus.eu" rel="nofollow">Home</a></li><li id="n-Forum"><a href="https://forum.eqdkp-plus.eu/" rel="nofollow">Forum</a></li><li id="n-Bugtracker"><a href="https://forum.eqdkp-plus.eu/bugtracker" rel="nofollow">Bugtracker</a></li><li id="n-Downloads"><a href="https://repo.eqdkp-plus.eu/" rel="nofollow">Downloads</a></li><li id="n-Project-Search"><a href="https://forum.eqdkp-plus.eu/wcf/project-search" rel="nofollow">Project-Search</a></li>				</ul>
							</div>
		</div>
			<div class="portal" role="navigation" id="p-Wiki" aria-labelledby="p-Wiki-label">
			<h3 id="p-Wiki-label">Wiki</h3>
			<div class="body">
								<ul>
					<li id="n-Main"><a href="Main_Page.html">Main</a></li><li id="n-Installation"><a href="./Category:Installation.html">Installation</a></li><li id="n-Usage"><a href="./Category:Usage.html">Usage</a></li><li id="n-Extensions"><a href="./Category:Extensions.html">Extensions</a></li><li id="n-Development"><a href="./Category:Development.html">Development</a></li>				</ul>
							</div>
		</div>
			<div class="portal" role="navigation" id="p-Misc" aria-labelledby="p-Misc-label">
			<h3 id="p-Misc-label">Misc</h3>
			<div class="body">
								<ul>
					<li id="n-recentchanges"><a href="https://wiki.eqdkp-plus.eu/wiki/Special:RecentChanges" title="A list of recent changes in the wiki [r]" accesskey="r">Recent changes</a></li><li id="n-help"><a href="https://www.mediawiki.org/wiki/Special:MyLanguage/Help:Contents" title="The place to find out">Help</a></li>				</ul>
							</div>
		</div>
			<div class="portal" role="navigation" id="p-tb" aria-labelledby="p-tb-label">
			<h3 id="p-tb-label">Tools</h3>
			<div class="body">
								<ul>
					<li id="t-whatlinkshere"><a href="./Special:WhatLinksHere/Create_a_Bridge.html" title="A list of all wiki pages that link here [j]" accesskey="j">What links here</a></li><li id="t-recentchangeslinked"><a href="https://wiki.eqdkp-plus.eu/wiki/Special:RecentChangesLinked/Create_a_Bridge" rel="nofollow" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</a></li><li id="t-specialpages"><a href="./Special:SpecialPages.html" title="A list of all special pages [q]" accesskey="q">Special pages</a></li><li id="t-print"><a href="https://wiki.eqdkp-plus.eu/w/index.php?title=Create_a_Bridge&amp;printable=yes" rel="alternate" title="Printable version of this page [p]" accesskey="p">Printable version</a></li><li id="t-permalink"><a href="https://wiki.eqdkp-plus.eu/w/index.php?title=Create_a_Bridge&amp;oldid=1334" title="Permanent link to this revision of the page">Permanent link</a></li><li id="t-info"><a href="https://wiki.eqdkp-plus.eu/w/index.php?title=Create_a_Bridge&amp;action=info" title="More information about this page">Page information</a></li>				</ul>
							</div>
		</div>
				</div>
		</div>
				<div id="footer" role="contentinfo">
						<ul id="footer-info">
								<li id="footer-info-lastmod"> This page was last edited on 29 September 2016, at 19:28.</li>
								<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="http://creativecommons.org/licenses/by-nc-sa/3.0/">Creative Commons „Namensnennung, nicht kommerziell, Weitergabe unter gleichen Bedingungen“</a> unless otherwise noted.</li>
							</ul>
						<ul id="footer-places">
								<li id="footer-places-privacy"><a href="./Projekt:Privacy_policy.html" title="Projekt:Privacy policy">Privacy policy</a></li>
								<li id="footer-places-about"><a href="https://wiki.eqdkp-plus.eu/wiki/Projekt:About" title="Projekt:About">About EQdkp Plus</a></li>
								<li id="footer-places-disclaimer"><a href="https://wiki.eqdkp-plus.eu/wiki/Projekt:General_disclaimer" title="Projekt:General disclaimer">Disclaimers</a></li>
							</ul>
										<ul id="footer-icons" class="noprint">
										<li id="footer-copyrightico">
						<a href="http://creativecommons.org/licenses/by-nc-sa/3.0/"><img src="../w/resources/assets/licenses/cc-by-nc-sa.png" alt="Creative Commons „Namensnennung, nicht kommerziell, Weitergabe unter gleichen Bedingungen“" width="88" height="31"/></a>					</li>
										<li id="footer-poweredbyico">
						<a href="https://www.mediawiki.org/"><img src="../w/resources/assets/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" srcset="../w/resources/assets/poweredby_mediawiki_132x47.png 1.5x, ../w/resources/assets/poweredby_mediawiki_176x62.png 2x" width="88" height="31"/></a>					</li>
									</ul>
						<div style="clear: both;"></div>
		</div>
		

<script>(RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgPageParseReport":{"limitreport":{"cputime":"0.081","walltime":"0.197","ppvisitednodes":{"value":140,"limit":1000000},"ppgeneratednodes":{"value":0,"limit":1000000},"postexpandincludesize":{"value":0,"limit":2097152},"templateargumentsize":{"value":0,"limit":2097152},"expansiondepth":{"value":2,"limit":40},"expensivefunctioncount":{"value":0,"limit":100},"unstrip-depth":{"value":0,"limit":20},"unstrip-size":{"value":8315,"limit":5000000},"timingprofile":["100.00%    0.000      1 -total"]},"cachereport":{"timestamp":"20210307101042","ttl":86400,"transientcontent":false}}});mw.config.set({"wgBackendResponseTime":278});});</script>
</body>
<!-- Cached 20210307101042 -->
</html>
