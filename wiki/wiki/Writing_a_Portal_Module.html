<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8"/>
<title>Writing a Portal Module - EQdkp Plus</title>
<script>document.documentElement.className="client-js";RLCONF={"wgCanonicalNamespace":"","wgCanonicalSpecialPageName":!1,"wgNamespaceNumber":0,"wgPageName":"Writing_a_Portal_Module","wgTitle":"Writing a Portal Module","wgCurRevisionId":1333,"wgRevisionId":1333,"wgArticleId":120,"wgIsArticle":!0,"wgIsRedirect":!1,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":["Pages with syntax highlighting errors","Extending"],"wgBreakFrames":!1,"wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgMonthNamesShort":["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"wgRelevantPageName":"Writing_a_Portal_Module","wgRelevantArticleId":120,"wgRequestId":"YESmphzjwhzSpLTStGT20AAAAM0","wgCSPNonce":!1,
"wgIsProbablyEditable":!1,"wgRelevantPageIsProbablyEditable":!1,"wgRestrictionEdit":[],"wgRestrictionMove":[],"wgULSAcceptLanguageList":[],"wgULSCurrentAutonym":"English"};RLSTATE={"site.styles":"ready","noscript":"ready","user.styles":"ready","user":"ready","user.options":"ready","user.tokens":"loading","ext.pygments":"ready","mediawiki.legacy.shared":"ready","mediawiki.legacy.commonPrint":"ready","mediawiki.toc.styles":"ready","ext.uls.pt":"ready","mediawiki.skinning.interface":"ready","skins.vector.styles":"ready"};RLPAGEMODULES=["site","mediawiki.page.startup","mediawiki.page.ready","mediawiki.toc","mediawiki.searchSuggest","ext.FontAwesome","ext.uls.interface","skins.vector.js"];</script>
<script>(RLQ=window.RLQ||[]).push(function(){mw.loader.implement("user.tokens@tffin",function($,jQuery,require,module){/*@nomin*/mw.user.tokens.set({"editToken":"+\\","patrolToken":"+\\","watchToken":"+\\","csrfToken":"+\\"});
});});</script>
<link rel="stylesheet" href="../w/load.php@lang=en&amp;modules=ext.pygments%257Cext.uls.pt%257Cmediawiki.legacy.commonPrint,shared%257Cmediawiki.skinning.interface%257Cmediawiki.toc.styles%257Cskins.vector.styles&amp;only=styles&amp;skin=vector.css"/>
<script async="" src="../w/load.php@lang=en&amp;modules=startup&amp;only=scripts&amp;raw=1&amp;skin=vector"></script>
<meta name="ResourceLoaderDynamicStyles" content=""/>
<link rel="stylesheet" href="../w/load.php@lang=en&amp;modules=site.styles&amp;only=styles&amp;skin=vector.css"/>
<meta name="generator" content="MediaWiki 1.34.4"/>
<link rel="shortcut icon" href="../favicon.ico"/>
<link rel="search" type="application/opensearchdescription+xml" href="../w/opensearch_desc.php" title="EQdkp Plus (en)"/>
<link rel="EditURI" type="application/rsd+xml" href="../w/api.php@action=rsd"/>
<link rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/"/>
<link rel="alternate" type="application/atom+xml" title="EQdkp Plus Atom feed" href="../w/index.php@title=Special%253ARecentChanges&amp;feed=atom"/>
<!--[if lt IE 9]><script src="/w/resources/lib/html5shiv/html5shiv.js"></script><![endif]-->
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Writing_a_Portal_Module rootpage-Writing_a_Portal_Module skin-vector action-view">
<div id="mw-page-base" class="noprint"></div>
<div id="mw-head-base" class="noprint"></div>
<div id="content" class="mw-body" role="main">
	<a id="top"></a>
	
	<div class="mw-indicators mw-body-content">
</div>

	<h1 id="firstHeading" class="firstHeading" lang="en">Writing a Portal Module</h1>
	
	<div id="bodyContent" class="mw-body-content">
		<div id="siteSub" class="noprint">From EQdkp Plus</div>
		<div id="contentSub"></div>
		
		
		
		<div id="jump-to-nav"></div>
		<a class="mw-jump-link" href="Writing_a_Portal_Module.html#mw-head">Jump to navigation</a>
		<a class="mw-jump-link" href="Writing_a_Portal_Module.html#p-search">Jump to search</a>
		<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><div class="mw-parser-output"><p><br />
This tutorial shows how to write a basic Portal Module that outputs some content.
</p>
<div id="toc" class="toc"><input type="checkbox" role="button" id="toctogglecheckbox" class="toctogglecheckbox" style="display:none" /><div class="toctitle" lang="en" dir="ltr"><h2>Contents</h2><span class="toctogglespan"><label class="toctogglelabel" for="toctogglecheckbox"></label></span></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="Writing_a_Portal_Module.html#Contents"><span class="tocnumber">1</span> <span class="toctext">Contents</span></a>
<ul>
<li class="toclevel-2 tocsection-2"><a href="Writing_a_Portal_Module.html#Folder"><span class="tocnumber">1.1</span> <span class="toctext">Folder</span></a></li>
<li class="toclevel-2 tocsection-3"><a href="Writing_a_Portal_Module.html#Files"><span class="tocnumber">1.2</span> <span class="toctext">Files</span></a></li>
<li class="toclevel-2 tocsection-4"><a href="Writing_a_Portal_Module.html#Portal_Class"><span class="tocnumber">1.3</span> <span class="toctext">Portal Class</span></a></li>
<li class="toclevel-2 tocsection-5"><a href="Writing_a_Portal_Module.html#Language_File"><span class="tocnumber">1.4</span> <span class="toctext">Language File</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-6"><a href="Writing_a_Portal_Module.html#Settings"><span class="tocnumber">2</span> <span class="toctext">Settings</span></a></li>
<li class="toclevel-1 tocsection-7"><a href="Writing_a_Portal_Module.html#API_Level"><span class="tocnumber">3</span> <span class="toctext">API Level</span></a>
<ul>
<li class="toclevel-2 tocsection-8"><a href="Writing_a_Portal_Module.html#Example"><span class="tocnumber">3.1</span> <span class="toctext">Example</span></a></li>
<li class="toclevel-2 tocsection-9"><a href="Writing_a_Portal_Module.html#API_Levels"><span class="tocnumber">3.2</span> <span class="toctext">API Levels</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-10"><a href="Writing_a_Portal_Module.html#Config"><span class="tocnumber">4</span> <span class="toctext">Config</span></a></li>
</ul>
</div>

<h1><span class="mw-headline" id="Contents">Contents</span></h1>
<h2><span class="mw-headline" id="Folder">Folder</span></h2>
<p>The Portal Modules are located in the folder <i>portal</i>.
Find a name for your new portal module, without special chars, space, etc., like "mynewportalmodule".
Create a folder with the name of your new portal module, and create a subfolder called "language".
</p>
<pre>portal
- mynewportalmodule
- - language
</pre>
<h2><span class="mw-headline" id="Files">Files</span></h2>
<p>Create a file called "mynewportalmodule_portal.class.php" in the folder "mynewportalmodule". The Ending "_portal.class.php" is required.
Create another file with your language name, like "english.php" in language subfolder of your module.
</p>
<pre>portal
- mynewportalmodule (Directory)
- - mynewportalmodule_portal.class.php (File)
- - language (Directory)
- - - english.php (File)
</pre>
<h2><span class="mw-headline" id="Portal_Class">Portal Class</span></h2>
<p>mynewportalmodule_portal.class.php
</p>
<div class="mw-highlight mw-content-ltr" dir="ltr"><pre>&lt;?php
if ( !defined('EQDKP_INC') ){
	header('HTTP/1.0 404 Not Found');exit;
}

class mynewportalmodule_portal extends portal_generic {

	protected static $path		= 'mynewportalmodule'; //Same as the folder name
	
	protected static $data		= array(
		'name'			=&gt; 'My New Portal Module',  //Name of the Module
		'version'		=&gt; '2.0.1',					//Version of the Module
		'author'		=&gt; 'GodMod',				//Author Name
		'icon'			=&gt; 'fa-code',				//Icon showed at Portal Management. Class is from Font Awesome Icons
		'contact'		=&gt; EQDKP_PROJECT_URL,		//Contact Email or Webpage 
		'description'		=&gt; 'Output some content',//Little Description of what the module does
		'multiple'		=&gt; true,					//Set to true if the module is clonable
		'mynewportalmodule'	=&gt; 'mynewmod_'				//Prefix of Language, for Settings
	);
	protected static $positions = array('middle', 'left', 'right', 'bottom');	//Possible Possitions of the module
	
	//This Array Contains Settings For the Module
	protected $settings	= array(
		'useroutput'	=&gt; array(
			'type'		=&gt; 'textarea',
			'cols'		=&gt; '40',
			'rows'		=&gt; '8',
			'codeinput'	=&gt; true,
		),		
	);

	//This is the API Level. See the API Level Section of Wiki Entry
	protected static $apiLevel = 20;

	//The Outout 
	public function output() {
		$output = "This is some output. &lt;br /&gt; And the following comes from the setting input: &lt;br /&gt;";
		
		$output =  xhtml_entity_decode(htmlspecialchars_decode($this-&gt;config('useroutput')));
		return $output;
	}
}
?&gt;</pre></div>
<h2><span class="mw-headline" id="Language_File">Language File</span></h2>
<p>english.php
</p>
<div class="mw-highlight mw-content-ltr" dir="ltr"><pre>&lt;?php
if ( !defined('EQDKP_INC') ){
	header('HTTP/1.0 404 Not Found');exit;
}

$lang = array(
	'mynewportalmodule'		=&gt; 'My new Portal Module',
	'mynewportalmodule_name'	=&gt; 'My new Portal Module',
	'mynewportalmodule_desc'	=&gt; 'Output some content',
	//Settings
	'mynewportalmodule_f_useroutput'=&gt; 'Enter the content to show',
);
?&gt;</pre></div>
<h1><span class="mw-headline" id="Settings">Settings</span></h1>
<p>Available Setting Types:
</p>
<ul><li>bbcodeeditor</li>
<li>checkbox</li>
<li>colorpicker</li>
<li>datepicker</li>
<li>dropdown</li>
<li>file</li>
<li>filetree</li>
<li>hidden</li>
<li>imageuploader</li>
<li>int</li>
<li>multiselect</li>
<li>password</li>
<li>radio</li>
<li>slider</li>
<li>spinner</li>
<li>text</li>
<li>textarea</li>
<li>timepicker</li></ul>
<p>Each Type has its own settings. For more information, take a look at the apropriate hTYPENAME.class.php in core/html/ - Folder of your EQdkp Plus.
</p>
<h1><span class="mw-headline" id="API_Level">API Level</span></h1>
<p>With EQdkp Plus 2.0, we introduced an API Level for the Portal Class. This ensures, that the old Portal Modules cannot produce fatal errors if they use removed methods of the Portal Class.
If we want to remove or rename Portal Class Methods, we set them as deprecated (can be viewn if Debug-Mode is enabled). After two Increasements of the API Level, we will remove the method. That means that Portal Modules will not work anymore and loaded by the EQDkp Plus if their API-Level is Recent API level minus three.
</p><p>That means that an module author has to update it's module regularly to make sure his module is working with the latest API.
</p>
<h2><span class="mw-headline" id="Example">Example</span></h2>
<p>We want to remove a method in API Level 19. We set this method as deprecated and increase the API Level to 20. With API Level 22, this method will be removed. All modules with an API Level lower 20 will not be loaded anymore and have to be adjusted to the new API Level.
</p>
<h2><span class="mw-headline" id="API_Levels">API Levels</span></h2>
<table class="wikitable">

<tbody><tr class="hintergrundfarbe5">
<th>API-Level</th>
<th>EQdkp Plus Version
</th></tr>
<tr>
<td>20</td>
<td>2.0.0
</td></tr></tbody></table>
<p><br />
</p>
<h1><span class="mw-headline" id="Config">Config</span></h1>
<p>To access the saved values of your settings, use the config() method.
</p>
<div class="mw-highlight mw-content-ltr" dir="ltr"><pre>$this-&gt;config('useroutput');</pre></div>
<p>Do not mix it up with the regular config class ($this-&gt;config-&gt;get('varname'))
</p>
<!-- 
NewPP limit report
Cached time: 20210307101046
Cache expiry: 86400
Dynamic content: false
Complications: []
CPU time usage: 0.026 seconds
Real time usage: 0.061 seconds
Preprocessor visited node count: 53/1000000
Preprocessor generated node count: 0/1000000
Post‐expand include size: 0/2097152 bytes
Template argument size: 0/2097152 bytes
Highest expansion depth: 2/40
Expensive parser function count: 0/100
Unstrip recursion depth: 0/20
Unstrip post‐expand size: 2386/5000000 bytes
-->
<!--
Transclusion expansion time report (%,ms,calls,template)
100.00%    0.000      1 -total
-->

<!-- Saved in parser cache with key eqdkp2_wiki:pcache:idhash:120-0!canonical and timestamp 20210307101046 and revision id 1333
 -->
</div></div>
		
		<div class="printfooter">Retrieved from "<a dir="ltr" href="../w/index.php@title=Writing_a_Portal_Module&amp;oldid=1333.html">https://wiki.eqdkp-plus.eu/w/index.php?title=Writing_a_Portal_Module&amp;oldid=1333</a>"</div>
		
		<div id="catlinks" class="catlinks" data-mw="interface"><div id="mw-normal-catlinks" class="mw-normal-catlinks"><a href="Special%253ACategories.html" title="Special:Categories">Categories</a>: <ul><li><a href="../w/index.php@title=Category%253APages_with_syntax_highlighting_errors&amp;action=edit&amp;redlink=1.html" class="new" title="Category:Pages with syntax highlighting errors (page does not exist)">Pages with syntax highlighting errors</a></li><li><a href="Category%253AExtending.html" title="Category:Extending">Extending</a></li></ul></div></div>
		<div class="visualClear"></div>
		
	</div>
</div>


		<div id="mw-navigation">
			<h2>Navigation menu</h2>
			<div id="mw-head">
									<div id="p-personal" role="navigation" aria-labelledby="p-personal-label">
						<h3 id="p-personal-label">Personal tools</h3>
						<ul>
							<li id="pt-uls" class="active"><a href="Writing_a_Portal_Module.html#" class="uls-trigger">English</a></li><li id="pt-login"><a href="../w/index.php@title=Special%253AUserLogin&amp;returnto=Writing+a+Portal+Module.html" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o">Log in</a></li>						</ul>
					</div>
									<div id="left-navigation">
										<div id="p-namespaces" role="navigation" class="vectorTabs" aria-labelledby="p-namespaces-label">
						<h3 id="p-namespaces-label">Namespaces</h3>
						<ul>
							<li id="ca-nstab-main" class="selected"><span><a href="Writing_a_Portal_Module.html" title="View the content page [c]" accesskey="c">Page</a></span></li><li id="ca-talk" class="new"><span><a href="https://wiki.eqdkp-plus.eu/w/index.php?title=Talk:Writing_a_Portal_Module&amp;action=edit&amp;redlink=1" rel="discussion" title="Discussion about the content page (page does not exist) [t]" accesskey="t">Discussion</a></span></li>						</ul>
					</div>
										<div id="p-variants" role="navigation" class="vectorMenu emptyPortlet" aria-labelledby="p-variants-label">
												<input type="checkbox" class="vectorMenuCheckbox" aria-labelledby="p-variants-label" />
						<h3 id="p-variants-label">
							<span>Variants</span>
						</h3>
						<ul class="menu">
													</ul>
					</div>
									</div>
				<div id="right-navigation">
										<div id="p-views" role="navigation" class="vectorTabs" aria-labelledby="p-views-label">
						<h3 id="p-views-label">Views</h3>
						<ul>
							<li id="ca-view" class="collapsible selected"><span><a href="Writing_a_Portal_Module.html">Read</a></span></li><li id="ca-viewsource" class="collapsible"><span><a href="../w/index.php@title=Writing_a_Portal_Module&amp;action=edit.html" title="This page is protected.&#10;You can view its source [e]" accesskey="e">View source</a></span></li><li id="ca-history" class="collapsible"><span><a href="../w/index.php@title=Writing_a_Portal_Module&amp;action=history.html" title="Past revisions of this page [h]" accesskey="h">View history</a></span></li>						</ul>
					</div>
										<div id="p-cactions" role="navigation" class="vectorMenu emptyPortlet" aria-labelledby="p-cactions-label">
						<input type="checkbox" class="vectorMenuCheckbox" aria-labelledby="p-cactions-label" />
						<h3 id="p-cactions-label"><span>More</span></h3>
						<ul class="menu">
													</ul>
					</div>
										<div id="p-search" role="search">
						<h3>
							<label for="searchInput">Search</label>
						</h3>
						<form action="https://wiki.eqdkp-plus.eu/w/index.php" id="searchform">
							<div id="simpleSearch">
								<input type="search" name="search" placeholder="Search EQdkp Plus" title="Search EQdkp Plus [f]" accesskey="f" id="searchInput"/><input type="hidden" value="Special:Search" name="title"/><input type="submit" name="fulltext" value="Search" title="Search the pages for this text" id="mw-searchButton" class="searchButton mw-fallbackSearchButton"/><input type="submit" name="go" value="Go" title="Go to a page with this exact name if it exists" id="searchButton" class="searchButton"/>							</div>
						</form>
					</div>
									</div>
			</div>
			<div id="mw-panel">
				<div id="p-logo" role="banner"><a class="mw-wiki-logo" href="Main_Page.html" title="Visit the main page"></a></div>
						<div class="portal" role="navigation" id="p-EQdkp_Plus" aria-labelledby="p-EQdkp_Plus-label">
			<h3 id="p-EQdkp_Plus-label">EQdkp Plus</h3>
			<div class="body">
								<ul>
					<li id="n-Home"><a href="https://eqdkp-plus.eu" rel="nofollow">Home</a></li><li id="n-Forum"><a href="https://forum.eqdkp-plus.eu/" rel="nofollow">Forum</a></li><li id="n-Bugtracker"><a href="https://forum.eqdkp-plus.eu/bugtracker" rel="nofollow">Bugtracker</a></li><li id="n-Downloads"><a href="https://repo.eqdkp-plus.eu/" rel="nofollow">Downloads</a></li><li id="n-Project-Search"><a href="https://forum.eqdkp-plus.eu/wcf/project-search" rel="nofollow">Project-Search</a></li>				</ul>
							</div>
		</div>
			<div class="portal" role="navigation" id="p-Wiki" aria-labelledby="p-Wiki-label">
			<h3 id="p-Wiki-label">Wiki</h3>
			<div class="body">
								<ul>
					<li id="n-Main"><a href="Main_Page.html">Main</a></li><li id="n-Installation"><a href="Category%253AInstallation.html">Installation</a></li><li id="n-Usage"><a href="Category%253AUsage.html">Usage</a></li><li id="n-Extensions"><a href="Category%253AExtensions.html">Extensions</a></li><li id="n-Development"><a href="Category%253ADevelopment.html">Development</a></li>				</ul>
							</div>
		</div>
			<div class="portal" role="navigation" id="p-Misc" aria-labelledby="p-Misc-label">
			<h3 id="p-Misc-label">Misc</h3>
			<div class="body">
								<ul>
					<li id="n-recentchanges"><a href="https://wiki.eqdkp-plus.eu/wiki/Special:RecentChanges" title="A list of recent changes in the wiki [r]" accesskey="r">Recent changes</a></li><li id="n-help"><a href="https://www.mediawiki.org/wiki/Special:MyLanguage/Help:Contents" title="The place to find out">Help</a></li>				</ul>
							</div>
		</div>
			<div class="portal" role="navigation" id="p-tb" aria-labelledby="p-tb-label">
			<h3 id="p-tb-label">Tools</h3>
			<div class="body">
								<ul>
					<li id="t-whatlinkshere"><a href="Special%253AWhatLinksHere/Writing_a_Portal_Module.html" title="A list of all wiki pages that link here [j]" accesskey="j">What links here</a></li><li id="t-recentchangeslinked"><a href="https://wiki.eqdkp-plus.eu/wiki/Special:RecentChangesLinked/Writing_a_Portal_Module" rel="nofollow" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</a></li><li id="t-specialpages"><a href="Special%253ASpecialPages.html" title="A list of all special pages [q]" accesskey="q">Special pages</a></li><li id="t-print"><a href="../w/index.php@title=Writing_a_Portal_Module&amp;printable=yes.html" rel="alternate" title="Printable version of this page [p]" accesskey="p">Printable version</a></li><li id="t-permalink"><a href="../w/index.php@title=Writing_a_Portal_Module&amp;oldid=1333.html" title="Permanent link to this revision of the page">Permanent link</a></li><li id="t-info"><a href="../w/index.php@title=Writing_a_Portal_Module&amp;action=info.html" title="More information about this page">Page information</a></li>				</ul>
							</div>
		</div>
				</div>
		</div>
				<div id="footer" role="contentinfo">
						<ul id="footer-info">
								<li id="footer-info-lastmod"> This page was last edited on 29 September 2016, at 19:27.</li>
								<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="http://creativecommons.org/licenses/by-nc-sa/3.0/">Creative Commons „Namensnennung, nicht kommerziell, Weitergabe unter gleichen Bedingungen“</a> unless otherwise noted.</li>
							</ul>
						<ul id="footer-places">
								<li id="footer-places-privacy"><a href="Projekt%253APrivacy_policy.html" title="Projekt:Privacy policy">Privacy policy</a></li>
								<li id="footer-places-about"><a href="https://wiki.eqdkp-plus.eu/wiki/Projekt:About" title="Projekt:About">About EQdkp Plus</a></li>
								<li id="footer-places-disclaimer"><a href="https://wiki.eqdkp-plus.eu/wiki/Projekt:General_disclaimer" title="Projekt:General disclaimer">Disclaimers</a></li>
							</ul>
										<ul id="footer-icons" class="noprint">
										<li id="footer-copyrightico">
						<a href="http://creativecommons.org/licenses/by-nc-sa/3.0/"><img src="../w/resources/assets/licenses/cc-by-nc-sa.png" alt="Creative Commons „Namensnennung, nicht kommerziell, Weitergabe unter gleichen Bedingungen“" width="88" height="31"/></a>					</li>
										<li id="footer-poweredbyico">
						<a href="https://www.mediawiki.org/"><img src="../w/resources/assets/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" srcset="../w/resources/assets/poweredby_mediawiki_132x47.png 1.5x, ../w/resources/assets/poweredby_mediawiki_176x62.png 2x" width="88" height="31"/></a>					</li>
									</ul>
						<div style="clear: both;"></div>
		</div>
		

<script>(RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgPageParseReport":{"limitreport":{"cputime":"0.026","walltime":"0.061","ppvisitednodes":{"value":53,"limit":1000000},"ppgeneratednodes":{"value":0,"limit":1000000},"postexpandincludesize":{"value":0,"limit":2097152},"templateargumentsize":{"value":0,"limit":2097152},"expansiondepth":{"value":2,"limit":40},"expensivefunctioncount":{"value":0,"limit":100},"unstrip-depth":{"value":0,"limit":20},"unstrip-size":{"value":2386,"limit":5000000},"timingprofile":["100.00%    0.000      1 -total"]},"cachereport":{"timestamp":"20210307101046","ttl":86400,"transientcontent":false}}});mw.config.set({"wgBackendResponseTime":169});});</script>
</body>
<!-- Cached 20210307101046 -->
</html>
